execute if score global mastersword matches 1 as @e[type=minecraft:item,nbt={Item:{id:"minecraft:diamond_sword",tag:{NinUnique:"MS",Enchantments:[{}]}}}] run kill @s
execute if score global mastersword matches 0 as @e[type=minecraft:item,nbt={Item:{id:"minecraft:diamond_sword",tag:{NinUnique:"MS",Enchantments:[{}]}}}] positioned as @s at @s run title @p[distance=..6,predicate=!nincodedo:isentitymetallink,tag=!seenworthymessage] actionbar {"text":"Only a worthy hero may claim the sword"}
execute if score global mastersword matches 0 as @e[type=minecraft:item,nbt={Item:{id:"minecraft:diamond_sword",tag:{NinUnique:"MS",Enchantments:[{}]}}}] positioned as @s at @s run tag @p[distance=..6,predicate=!nincodedo:isentitymetallink] add seenworthymessage

execute as @e[type=minecraft:item,nbt={Item:{id:"minecraft:diamond_sword",tag:{NinUnique:"MS",Enchantments:[{}]}}}] positioned as @s run advancement revoke @a[predicate=!nincodedo:feature_locations/metal_link_house] only nincodedo:unique_items/track_metal_link_house
execute as @e[type=minecraft:item,nbt={Item:{id:"minecraft:diamond_sword",tag:{NinUnique:"MS",Enchantments:[{}]}}}] positioned as @s run tag @a[predicate=!nincodedo:feature_locations/metal_link_house] remove seenworthymessage
execute as @e[type=minecraft:item,nbt={Item:{id:"minecraft:diamond_sword",tag:{NinUnique:"MS",Enchantments:[{}]}}}] positioned as @s if entity @a[predicate=nincodedo:feature_locations/metal_link_house] run schedule function nincodedo:uniqueitems/mastersword_interactions 2s replace
